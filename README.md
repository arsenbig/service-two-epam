

# Microservice: Service Two

## Use case

A simple application which generates UUID every minute and updates the same in MySQL database. It also stores the UUID value generated by other service in its database asynchronously by Rabbit MQ.

Below are the architecture of the application in default environments:

#### Default Environment
![alt tag](./doc/architecture/service-two%20(docker).png?raw=true)   

### Build

#### prerequisites
- Java 8 JDK and Maven should be installed to build the application.

#### configure the application
- Update `src/main/resources/application.yml` file according to your environment.
> Mandatory fields are presented in `< ABC >` format.

#### build with maven
- Execute `mvn clean package` while in the project root directory (the directory that contains the `pom.xml` file) to build the package. 
- This will generate a file `./target/service-two.jar`.

### Run

#### prerequisites

- A MySQL database, RabbitMQ, and Consul should be up and running and reachable for the application.
- Java 8 JRE should be installed to run the application.

#### application start
- `java -Xmx256m -Xss32m -Djava.security.egd=file:/dev/urandom -jar <path to jar file>`

> Please, note, that ideally the service should be started by SystemD

- check if your application is up and running via http://<application host FQDN/IP>:8084/swagger-ui.html

![alt tag](./doc/tools/swagger.png?raw=true)   

### Technology

Microservices sample project uses a number of open source projects to work properly:

* [SpringBoot 2.3] - Application Framework
* [Project Reactor] - Reactive Systems
* [Consul] - Registration & Discovery
* [MySQL] - Relational Database
* [Swagger] - API Documentation
* [Rabbit MQ] - Message Broker
* [Logstash] - Log Collector
* [H2] - In-memory Database
* [MapStruct] - Java Bean Mapping
* [Lombok] - Simplifying POJOs

### Tools

* [Java] - Programming
* [Maven] - Build
* [Git] - Version control

### Help

Feel free to reach `EPAM AM Cloud&DevOps Department`
